### **1. 제품 등록과 구매는 회원만 가능합니다.**

**기능:**

- [x] 회원가입 및 로그인 기능 구현
- [x] 회원 여부를 확인할 수 있는 인증 시스템 (JWT 토큰을 사용 예정)

**예외 처리:**
-[x] 회원가입 시 아이디 중복 예외 처리
  - 이미 아이디가 존재할 경우
    - 메시지: "아이디가 존재합니다."
    - 코드: 1000L
    - HTTP 상태 코드: 400 Bad Request
-[x] 로그인 과정에서 발생하는 예외 처리
  - 아이디가 존재하지 않음
    - 메시지: "아이디가 존재하지 않습니다."
    - 코드: 1010L
    - HTTP 상태 코드: 400 Bad Request
  - 비밀번호가 올바르지 않음
    - 메시지: "비밀번호가 올바르지 않습니다."
    - 코드: 1011L
    - HTTP 상태 코드: 400 Bad Request
-[x] 비회원이 제품 등록 시도
    - 메시지: "회원만 제품을 등록할 수 있습니다."
    - 코드: "NOT_AUTHORIZED_PRODUCT_TO_REGISTER"
    - HTTP 상태 코드: 401 Unauthorized
-[x] 비회원이 제품 구매 시도
    - 메시지: "회원만 제품을 구매할 수 있습니다."
    - 코드: "NOT_AUTHORIZED_PRODUCT_TO_BUY"
    - HTTP 상태 코드: 401 Unauthorized

### **2. 비회원은 등록된 제품의 목록조회와 상세조회만 가능합니다.**

**기능:**

-[x] 제품 목록 조회 
-[x] 제품 상세 조회 

**예외 처리:**

-[x] 비회원이 제품 등록 시 예외 처리
-[x] 비회원이 제품 구매 시도 시 예외 처리
-[x] 존재하지 않는 상품 상세 조회 시
  - 메시지: "존재하지 않는 제품입니다."
  - 코드: 2001
  - HTTP 상태 코드: 404 Not Found

### **3. 등록된 제품에는 "제품명", "가격", "예약상태"가 포함되어야하고, 목록조회와 상세조회시에 예약상태를 포함해야합니다.**

**기능:**

-[x] 제품 등록 시 필수 정보 포함 ("제품명", "가격", "예약상태(서버에서 입력해준다.)")
-[x] 제품 목록 조회 및 상세 조회 시 예약상태(status) 포함

**예외 처리:**

-[x] 제품 등록 시 필수 정보 미입력:
    - 메시지: "BAD_REQUEST - 유효하지 않은 입력값 발생"
      - 제품명는 필수 입력 항목입니다.
      - 가격은 필수 입력 항목입니다.
    - 코드: 401
    - HTTP 상태 코드: 400 Bad Request

### **4. 제품의 상태는 "판매중", "예약중", "완료" 세가지가 존재합니다.**

**기능**:

- 제품 상태 변경 기능 구현 (자동으로 서버에서 변경하는 걸로 구현)

**예외처리**:

- 잘못된 상태 변경 시도:
    - 메시지: "유효하지 않은 상태입니다."
    - 코드: "INPUT_INVALID_PRODUCT_STATUS"
    - HTTP 상태 코드: 400 Bad Request
- 완료된 거래를 다시 판매중으로 변경 시도:
    - 메시지: "완료된 거래는 상태를 변경할 수 없습니다."
    - 코드: "STATUS_CHANGE_NOT_ALLOWED_ALREADY_COMPLETED_PRODUCT”
    - HTTP 상태 코드: 403 Forbidden

### **5. 구매자가 제품의 상세페이지에서 구매하기 버튼을 누르면 거래가 시작됩니다.**

**기능**:

-[x] 구매 버튼 클릭 시 거래 시작 (상태 "예약중"으로 변경)

**예외처리**:

-[x] 비회원이 구매 버튼 클릭:
    - 메시지: "회원만 제품을 구매할 수 있습니다."
    - 코드: 3000
    - HTTP 상태 코드: 401 Unauthorized
-[x] 존재하지 않는 제품을 구매 시도:
  - 메시지: "존재하지 않는 제품입니다."
    - 코드: 3001
  - HTTP 상태 코드: 404 Not Found
-[x] 이미 예약중인 제품을 다른 구매자가 구매 시도:
    - 메시지: "이미 거래가 예약된 제품입니다."
    - 코드:  3002
    - HTTP 상태 코드: 409 Conflict
-[x] 완료된 제품을 구매 시도:
    - 메시지: "이미 거래 완료된 제품입니다."
    - 코드:  3003
    - HTTP 상태 코드: 409 Conflict
-[x] 본인이 판매하는 제품 구매 시도:
  - 메시지: "본인이 판매하는 제품은 구매할 수 없습니다."
  - 코드:  3004
  - HTTP 상태 코드: 409 Conflict

### **6. 판매자와 구매자는 제품의 상세정보를 조회하면 당사자간의 거래내역을 확인할 수 있습니다.**

**기능**:

- 판매자와 구매자가 거래내역 확인 기능 구현

**예외처리**:

- 다른 사용자가 거래내역 조회 시도:
    - 메시지: "거래내역을 볼 수 있는 권한이 없습니다."
    - 코드: "FORBIDDEN_ACCESS_TRANSACTION_HISTORY”
    - HTTP 상태 코드: 403 Forbidden


### **7. 모든 사용자는 내가 "구매한 용품(내가 구매자)"과 "예약중인 용품(내가 구매자/판매자 모두)"의 목록을 확인할 수 있습니다.**

**기능**:

- 사용자(본인)가 구매한 용품 목록 조회 기능
- 사용자(본인)가 예약중인 용품 목록 조회 기능

**예외처리**:

- 비회원이 거래 목록 조회 시도:
    - 메시지: "회원만 구매한 용품 및 예약중인 용품 목록을 조회할 수 있습니다."
    - 코드: "NOT_AUTHORIZED_PRODUCT"
    - HTTP 상태 코드: 401 Unauthorized

### **8. 판매자는 거래진행중인 구매자에 대해 '판매승인'을 하는 경우 거래가 완료됩니다.**

**기능**:

- 판매승인 기능 구현 (상태 "완료"로 변경)

**예외처리**:

- 비회원이 판매승인 시도:
    - 메시지: "회원만 판매승인을 할 수 있습니다."
    - 코드: "NOT_AUTHORIZED_PRODUCT_STATUS"
    - HTTP 상태 코드: 401 Unauthorized
- 구매자가 판매승인 시도:
    - 메시지: "판매자만 판매승인을 할 수 있습니다."
    - 코드: "FORBIDDEN_ACCESS_PRODUCT_STATUS"
    - HTTP 상태 코드: 403 Forbidden
- 이미 완료된 거래를 다시 승인 시도:
    - 메시지: "이 거래는 이미 완료되었습니다."
    - 코드:  "STATUS_ALREADY_COMPLETED_PRODUCT”
    - HTTP 상태 코드: 409 Conflict